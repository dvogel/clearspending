{% extends "base.html" %}
{% block scripts %}
    {{ block.super }}
    <script src="{{ STATIC_URL }}scripts/d3.v2.js"></script>
    <script src="{{ STATIC_URL }}scripts/charts.js"></script>
    <style type="text/css">
        .cell {
            position: absolute;
            border: solid 1px white;
            font: 8.9px sans-serif;
            line-height: 10px;
            overflow: hidden;
            position: absolute;
            text-indent: 2px;
        }
        .cell.unknown {
        }
        .cell.category {
            display: none;
        }
        div.chart-loading {
            position: absolute;
            width: 100%;
            top: 50%;
            height: 48px;
            margin-top: -24px;
            font-weight: bold;
            color: #6C6764;
            font-size: 24px;
            vertical-align: middle;
            text-align: center;
        }
        div.chart-loading div {
            display: inline-block;
            margin: 0 auto;
        }
        #chart-con {
            position: relative;
            width: 580px;
            margin: auto auto;
        }
        #status-con {
            display: inline-block;
            position: relative;
            font-size: 12px;
            padding: 12px;
            width: 280px;
            height: 100px;
            top: -150px;
            left: 30px;
            border-width: 2px;
            border-style: solid;
            border-color: #b0b0b0;
            background: none rgb(232, 230, 227);
            border-radius: 6px;
        }
        #status, #program-description {
            font-weight: bold;
        }
        #program-description {
            display: none;
            font-size: 12px;
            color: #6C6764;
        }
        #days-delta {
            display: none;
            background: none transparent;
            font-size: 16px;
            font-weight: bold;
            letter-spacing: 0.1em;
        }
        #days-delta.pass {
            color: rgb(0, 200, 0);
        }
        #days-delta.fail {
            color: rgb(240, 59, 32);
        }
        #legend {
            position: relative;
            display: block;
            vertical-align: top;
            float: right;
            background: none rgb(255, 255, 255);
            border-radius: 7px;
            -moz-border-radius: 7px;
            border-color: black;
            border-width: 1px;
            border-style: solid;
            padding: 1em;
            margin: 0 1em 1em 1em;
        }
        span.swatch {
            display: inline-block;
            width: 1em;
            height: 1em;
            overflow: hidden;
        }
        .pass {
            background: none rgb(0, 200, 0);
        }
        .fail {
            background: none rgb(240, 59, 32);
        }
        svg .pass {
            fill: rgb(0, 200, 0);
        }
        svg .fail {
            fill: rgb(240, 59, 32);
        }
        div#chart-buttons {
            float: right;
        }
        span.fiscal_year_chooser {
            text-align: right;
            color: #68A31D;
            margin: 0 0.5em;
            cursor: pointer;
        }
        span.fiscal_year_chooser:hover {
        }
        span.fiscal_year_chooser.selected {
            color: #68A31D;
            font-weight: bold;
        }
        span.title {
            display: inline;
            float: left;
            font-weight: bold;
            font-size: 14px;
            margin-bottom: 1em;
        }
        g#pos-axis, g#neg-axis {
            stroke: #cccccc;
            shape-rendering: crispEdges;
        }
        g#pos-axis path, g#neg-axis path {
            display: none;
        }
        g#pos-axis text, g#neg-axis text {
            stroke: none;
            fill: black;
        }
        svg text {
            stroke: none;
            fill: black;
        }

        svg#timeliness-art {
            fill: transparent;
        }
    </style>
{% endblock %}
{% block bodyclass %}timeliness{% endblock bodyclass %}
{% block content %}
<div id="pageMain">
	<div id="ltColumn">
		<h3>Timeliness</h3>

		<p>
		When the federal government spends money through grants or direct payments programs, they must report that spending within 30 days. To the right you can see an illustration of how well each agency meets this requirement.
		</p>
		<p>
		</p>


        <div id="chart-con">
            <span class="title">Timeliness of Federal Direct Assistance Reporting</span>
            <div id="chart-buttons">
                {% for fy in FISCAL_YEARS %}
                <span class="fiscal_year_chooser">{{ fy }}</span>
                {% endfor %}
            </div>

            <div class="clear"></div>

            <div id="chart">
            </div>

            <div class="clear"></div>
            <div id="status-con">
                <div id="status">
                    Move your cursor over each column for details on each federal agency.
                </div>
                <div id="days-delta"></div>
                <div id="program-description">
                </div>
            </div>
        </div>
        <div class="clear"></div>

        <!--<div id="legend">
            <span id="legend-title">Legend</span> <br>
            <span class="swatch fail" id="bad-swatch">&nbsp;</span> Failing programs 
            <span class="swatch pass" id="ok-swatch">&nbsp;</span> Passing programs 
        </div>-->
    </div>


    <div id="rtColumn">
    </div>

</div>
{% endblock %}


